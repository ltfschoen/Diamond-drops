<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: ml Pages: 1 -->
<svg width="1369pt" height="374pt"
 viewBox="0.00 0.00 1369.30 374.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 370)">
<title>ml</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-370 1365.3022,-370 1365.3022,4 -4,4"/>
<!-- ndConfigType -->
<g id="node1" class="node">
<title>ndConfigType</title>
<polygon fill="none" stroke="#000000" points="0,-268.5 0,-340.5 135.6836,-340.5 135.6836,-268.5 0,-268.5"/>
<text text-anchor="middle" x="67.8418" y="-325.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;&lt;Enumeration&gt;&gt;&gt;</text>
<text text-anchor="middle" x="67.8418" y="-311.3" font-family="Times,serif" font-size="14.00" fill="#000000">ConfigType</text>
<polyline fill="none" stroke="#000000" points="0,-304.5 135.6836,-304.5 "/>
<text text-anchor="middle" x="67.8418" y="-289.3" font-family="Times,serif" font-size="14.00" fill="#000000">Mode</text>
<text text-anchor="middle" x="67.8418" y="-275.3" font-family="Times,serif" font-size="14.00" fill="#000000">Nil</text>
</g>
<!-- ndMode -->
<g id="node2" class="node">
<title>ndMode</title>
<polygon fill="none" stroke="#000000" points="153.8789,-250.5 153.8789,-358.5 305.8047,-358.5 305.8047,-250.5 153.8789,-250.5"/>
<text text-anchor="middle" x="229.8418" y="-343.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;&lt;Enumeration&gt;&gt;&gt;</text>
<text text-anchor="middle" x="229.8418" y="-329.3" font-family="Times,serif" font-size="14.00" fill="#000000">Mode</text>
<polyline fill="none" stroke="#000000" points="153.8789,-322.5 305.8047,-322.5 "/>
<text text-anchor="middle" x="229.8418" y="-307.3" font-family="Times,serif" font-size="14.00" fill="#000000">Proposer</text>
<text text-anchor="middle" x="229.8418" y="-293.3" font-family="Times,serif" font-size="14.00" fill="#000000">Collator</text>
<text text-anchor="middle" x="229.8418" y="-279.3" font-family="Times,serif" font-size="14.00" fill="#000000">Both</text>
<polyline fill="none" stroke="#000000" points="153.8789,-272.5 305.8047,-272.5 "/>
<text text-anchor="middle" x="229.8418" y="-257.3" font-family="Times,serif" font-size="14.00" fill="#000000">+ value(&amp;self) &#45;&gt; String</text>
</g>
<!-- ndConfig -->
<g id="node3" class="node">
<title>ndConfig</title>
<polygon fill="none" stroke="#000000" points="135.4014,-63.5 135.4014,-143.5 324.2822,-143.5 324.2822,-63.5 135.4014,-63.5"/>
<text text-anchor="middle" x="229.8418" y="-128.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;&lt;Structure&gt;&gt;&gt;</text>
<text text-anchor="middle" x="229.8418" y="-114.3" font-family="Times,serif" font-size="14.00" fill="#000000">Config</text>
<polyline fill="none" stroke="#000000" points="135.4014,-107.5 324.2822,-107.5 "/>
<text text-anchor="middle" x="229.8418" y="-92.3" font-family="Times,serif" font-size="14.00" fill="#000000">+ mode: Mode</text>
<polyline fill="none" stroke="#000000" points="135.4014,-85.5 324.2822,-85.5 "/>
<text text-anchor="middle" x="229.8418" y="-70.3" font-family="Times,serif" font-size="14.00" fill="#000000">+ new(mode: Mode) &#45;&gt; Config</text>
</g>
<!-- ndMode&#45;&gt;ndConfig -->
<g id="edge1" class="edge">
<title>ndMode&#45;&gt;ndConfig</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M229.8418,-250.3713C229.8418,-221.0993 229.8418,-185.1052 229.8418,-156.0762"/>
<polygon fill="#000000" stroke="#000000" points="229.8419,-155.6908 225.8418,-149.6909 229.8418,-143.6908 233.8418,-149.6908 229.8419,-155.6908"/>
</g>
<!-- ndBody -->
<g id="node4" class="node">
<title>ndBody</title>
<polygon fill="none" stroke="#000000" points="324.4966,-286.5 324.4966,-322.5 439.187,-322.5 439.187,-286.5 324.4966,-286.5"/>
<text text-anchor="middle" x="381.8418" y="-307.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;&lt;Structure&gt;&gt;&gt;</text>
<text text-anchor="middle" x="381.8418" y="-293.3" font-family="Times,serif" font-size="14.00" fill="#000000">Body</text>
</g>
<!-- ndCollation -->
<g id="node5" class="node">
<title>ndCollation</title>
<polygon fill="none" stroke="#000000" points="457.6655,-268.5 457.6655,-340.5 612.0181,-340.5 612.0181,-268.5 457.6655,-268.5"/>
<text text-anchor="middle" x="534.8418" y="-325.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;&lt;Structure&gt;&gt;&gt;</text>
<text text-anchor="middle" x="534.8418" y="-311.3" font-family="Times,serif" font-size="14.00" fill="#000000">Collation</text>
<polyline fill="none" stroke="#000000" points="457.6655,-304.5 612.0181,-304.5 "/>
<text text-anchor="middle" x="534.8418" y="-289.3" font-family="Times,serif" font-size="14.00" fill="#000000">&#45; header: header::Header</text>
<text text-anchor="middle" x="534.8418" y="-275.3" font-family="Times,serif" font-size="14.00" fill="#000000">&#45; body: body::Body</text>
</g>
<!-- ndCollator -->
<g id="node7" class="node">
<title>ndCollator</title>
<polygon fill="none" stroke="#000000" points="341.8169,-.5 341.8169,-206.5 727.8667,-206.5 727.8667,-.5 341.8169,-.5"/>
<text text-anchor="middle" x="534.8418" y="-191.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;&lt;Structure&gt;&gt;&gt;</text>
<text text-anchor="middle" x="534.8418" y="-177.3" font-family="Times,serif" font-size="14.00" fill="#000000">Collator</text>
<polyline fill="none" stroke="#000000" points="341.8169,-170.5 727.8667,-170.5 "/>
<text text-anchor="middle" x="534.8418" y="-155.3" font-family="Times,serif" font-size="14.00" fill="#000000">&#45; eligible: bool</text>
<text text-anchor="middle" x="534.8418" y="-141.3" font-family="Times,serif" font-size="14.00" fill="#000000">&#45; shard_id: usize</text>
<text text-anchor="middle" x="534.8418" y="-127.3" font-family="Times,serif" font-size="14.00" fill="#000000">&#45; collation_trees: HashMap&lt;usize, collation::tree::Tree&gt;</text>
<text text-anchor="middle" x="534.8418" y="-113.3" font-family="Times,serif" font-size="14.00" fill="#000000">&#45; listener: mpsc::Receiver&lt;message::Message&gt;</text>
<polyline fill="none" stroke="#000000" points="341.8169,-106.5 727.8667,-106.5 "/>
<text text-anchor="middle" x="534.8418" y="-91.3" font-family="Times,serif" font-size="14.00" fill="#000000">+ new(listener: mpsc::Receiver&lt;message::Message&gt;) &#45;&gt; Collator</text>
<text text-anchor="middle" x="534.8418" y="-77.3" font-family="Times,serif" font-size="14.00" fill="#000000">+ run(&amp;mut self)</text>
<text text-anchor="middle" x="534.8418" y="-63.3" font-family="Times,serif" font-size="14.00" fill="#000000">&#45; store_collation_header(&amp;self, header: collation::header::Header)</text>
<text text-anchor="middle" x="534.8418" y="-49.3" font-family="Times,serif" font-size="14.00" fill="#000000">&#45; store_collation(&amp;self, collation: collation::collation::Collation)</text>
<text text-anchor="middle" x="534.8418" y="-35.3" font-family="Times,serif" font-size="14.00" fill="#000000">&#45; store_proposal(&amp;self, collation: collation::collation::Collation)</text>
<text text-anchor="middle" x="534.8418" y="-21.3" font-family="Times,serif" font-size="14.00" fill="#000000">&#45; select_proposal(&amp;self)</text>
<text text-anchor="middle" x="534.8418" y="-7.3" font-family="Times,serif" font-size="14.00" fill="#000000">&#45; add_header(&amp;self)</text>
</g>
<!-- ndCollation&#45;&gt;ndCollator -->
<g id="edge2" class="edge">
<title>ndCollation&#45;&gt;ndCollator</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M534.8418,-268.1004C534.8418,-253.3325 534.8418,-235.3953 534.8418,-216.8649"/>
<polygon fill="#000000" stroke="#000000" points="534.8418,-206.8313 539.3419,-216.8312 534.8418,-211.8313 534.8419,-216.8313 534.8419,-216.8313 534.8419,-216.8313 534.8418,-211.8313 530.3419,-216.8313 534.8418,-206.8313 534.8418,-206.8313"/>
</g>
<!-- ndTree -->
<g id="node6" class="node">
<title>ndTree</title>
<polygon fill="none" stroke="#000000" points="630.4966,-286.5 630.4966,-322.5 745.187,-322.5 745.187,-286.5 630.4966,-286.5"/>
<text text-anchor="middle" x="687.8418" y="-307.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;&lt;Structure&gt;&gt;&gt;</text>
<text text-anchor="middle" x="687.8418" y="-293.3" font-family="Times,serif" font-size="14.00" fill="#000000">Tree</text>
</g>
<!-- ndMessage -->
<g id="node8" class="node">
<title>ndMessage</title>
<polygon fill="none" stroke="#000000" points="763,-247.5 763,-361.5 898.6836,-361.5 898.6836,-247.5 763,-247.5"/>
<text text-anchor="middle" x="830.8418" y="-346.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;&lt;Enumeration&gt;&gt;&gt;</text>
<text text-anchor="middle" x="830.8418" y="-332.3" font-family="Times,serif" font-size="14.00" fill="#000000">Message</text>
<polyline fill="none" stroke="#000000" points="763,-325.5 898.6836,-325.5 "/>
<text text-anchor="middle" x="830.8418" y="-310.3" font-family="Times,serif" font-size="14.00" fill="#000000">Eligible</text>
<text text-anchor="middle" x="830.8418" y="-296.3" font-family="Times,serif" font-size="14.00" fill="#000000">Shard</text>
<text text-anchor="middle" x="830.8418" y="-282.3" font-family="Times,serif" font-size="14.00" fill="#000000">Header</text>
<text text-anchor="middle" x="830.8418" y="-268.3" font-family="Times,serif" font-size="14.00" fill="#000000">Collation</text>
<text text-anchor="middle" x="830.8418" y="-254.3" font-family="Times,serif" font-size="14.00" fill="#000000">Proposal</text>
</g>
<!-- ndSMCListener -->
<g id="node9" class="node">
<title>ndSMCListener</title>
<polygon fill="none" stroke="#000000" points="916.3813,-243.5 916.3813,-365.5 1361.3022,-365.5 1361.3022,-243.5 916.3813,-243.5"/>
<text text-anchor="middle" x="1138.8418" y="-350.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;&lt;Structure&gt;&gt;&gt;</text>
<text text-anchor="middle" x="1138.8418" y="-336.3" font-family="Times,serif" font-size="14.00" fill="#000000">SMCListener</text>
<polyline fill="none" stroke="#000000" points="916.3813,-329.5 1361.3022,-329.5 "/>
<text text-anchor="middle" x="1138.8418" y="-314.3" font-family="Times,serif" font-size="14.00" fill="#000000">&#45; period: usize</text>
<text text-anchor="middle" x="1138.8418" y="-300.3" font-family="Times,serif" font-size="14.00" fill="#000000">&#45; collator_sender: mpsc::Sender&lt;message::Message&gt;</text>
<polyline fill="none" stroke="#000000" points="916.3813,-293.5 1361.3022,-293.5 "/>
<text text-anchor="middle" x="1138.8418" y="-278.3" font-family="Times,serif" font-size="14.00" fill="#000000">+ new(collator_sender: mpsc::Sender&lt;message::Message&gt;) &#45;&gt; SMCListener</text>
<text text-anchor="middle" x="1138.8418" y="-264.3" font-family="Times,serif" font-size="14.00" fill="#000000">&#45; register(&amp;self, addr: Address) &#45;&gt; Result&lt;bool, &amp;&#39;static str&gt;</text>
<text text-anchor="middle" x="1138.8418" y="-250.3" font-family="Times,serif" font-size="14.00" fill="#000000">&#45; get_eligible_collator(&amp;self, shard_id: usize) &#45;&gt; Address</text>
</g>
</g>
</svg>
